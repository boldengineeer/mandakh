<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <input id="search" /><button onclick="Search()">search</button>
    <!-- <ul id="list">
      <li>Backend</li>
      <li>Frontend</li>
    </ul> -->

    <!-- <button onclick="add()">Add</button>
    <button onclick="del()">Delete</button> -->
    <script>
      function Search() {
        var ner = document.getElementById("search").value;
        //function add() {
        //   var list = document.getElementById("list");
        //   var li = document.createElement("li");
        //    var text = document.createTextNode("Design");

        //    li.appendChild(text);
        //    list.appendChild(li);
        //  }
        /*  function del() {
        var list = document.getElementById("list");
        list.removeChild(list.lastChild);
      }*/


        fetch("https://forkify-api.herokuapp.com/api/search?q="+ner)
          .then((r) => r.text())
          .then((result) => {
            let data = JSON.parse(result);
            console.log(data.recipes[0]);

            /* data.recipes.forEach((element) => {
            var div = document.createElement("div");
            var image_url = document.createElement("img");
            var publisher_url = document.createElement("p");
            var publisher = document.createElement("p");
            var recipe_id = document.createElement("p");
            var social_rank = document.createElement("p");
            var source_url = document.createElement("p");
            var title = document.createElement("p");

            div.appendChild(image_url);
            div.appendChild(publisher_url);
            div.appendChild(publisher);
            div.appendChild(recipe_id);
            div.appendChild(social_rank);
            div.appendChild(source_url);
            div.appendChild(title);
            document.body.appendChild(div);

            image_url.src = element.image_url;
            publisher_url.innerHTML = element.publisher_url;
            publisher.innerHTML = element.publisher;
            recipe_id.innerHTML = element.recipe_id;
            social_rank.innerHTML = element.social_rank;
            source_url.innerHTML = element.source_url;
          });  */

            for (let i = 0; i < 7; i++) {
              var search = document.getElementById("search");
              var div = document.createElement("div");
              var image_url = document.createElement("img");
              var publisher_url = document.createElement("p");
              var publisher = document.createElement("p");
              var recipe_id = document.createElement("p");
              var social_rank = document.createElement("p");
              var source_url = document.createElement("p");
              var title = document.createElement("p");

              div.appendChild(image_url);
              div.appendChild(publisher_url);
              div.appendChild(publisher);
              div.appendChild(recipe_id);
              div.appendChild(social_rank);
              div.appendChild(source_url);
              div.appendChild(title);
              div.appendChild(source_url);
              div.appendChild(search);
              document.body.appendChild(div);

              image_url.src = data.recipes[i].image_url;
              publisher_url.innerHTML = data.recipes[i].publisher_url;
              publisher.innerHTML = data.recipes[i].publisher;
              recipe_id.innerHTML = data.recipes[i].recipe_id;
              social_rank.innerHTML = data.recipes[i].social_rank;
              source_url.innerHTML = data.recipes[i].source_url;
            }
          });
      }
    </script>
  </body>
</html>
